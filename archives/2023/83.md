---
title: 语义化版本 SemVer
number: '#83'
link: 'https://github.com/toFrankie/blog/issues/83'
created_at: '2023-02-25 20:13:15'
updated_at: '2023-12-16 18:21:19'
labels:
  - Node.js
  - '2020'
---
## 语义化版本 SemVer



语义化的版本号必须采用 `X.Y.Z` 格式（`MAJOR.MINOR.PATCH`），其中 `X`，`Y` 和 `Z` 是非负整数，并且不得包含前导零。

- `X` 是主要版本（主版本号）
- `Y` 是次要版本（次版本号）
- `Z` 是补丁版本（修订号）。

比如，`1.2.3` 的主要版本时 `1`，次要版本是 `2`，补丁版本是 `3`。

- 主要版本更新：表示一个破坏兼容性的大变化；
- 次要版本更新：表示不会破坏任何内容的新功能；
- 补丁版本更新：表示不会破坏任何内容的错误修复。

换句话说，错误修复不影响 API 增加补丁版本，向后兼容的 API 添加或更改增加次要版本，向后不兼容的 API 更改增加主要版本

`v1.2.3` 是语义版本吗？

> 这不是语义版本。在语义版本前添加 `v` 前缀是一种常用的版本号表示方式。通过版本控制经常可以看到将 `version` 缩写为 `v`。比如 `git tag v1.2.3 -m "Release version 1.2.3"`，在这种情况下，`v1.2.3` 是标记名称，语义版本是 `1.2.3`。

## npm 中的语义化版本

当你使用 npm 安装包时，会在 `package.json` 中添加一个包含包名称和对应 semver 的条目。默认情况下，npm 安装最新版本，并预先插入版本号，例如 `^1.2.12`，这表示至少应该使用版本 `1.2.12`，但任何高于此版本的版本都可以，只要它具有相同的主要版本，由于次要版本和补丁编号仅代表错误修正和非破坏性添加，你可以安全地使用任何更高版本的同一主要版本。阅读更多关于 semver 通配符的信息，请看[这里](http://blog.npmjs.org/post/115305091285/introducing-the-npm-semantic-version-calculator)。

- `2.2.5`：表示安装 `2.2.5` 的版本。
- `~2.2.5`：表示安装 `[2.2.5, 2.3.0)` 之间（当前）最新的版本，也就是安装时不改变主要版本号和次要版本号。
- `^2.2.5`：表示安装 `[2.2.5, 3.0.0)` 之间（当前）最新的版本，也就是安装时不改变主要版本号。 


## 参考

- [Semantic Versioning](https://semver.org/)
- [你想知道关于 package-lock.json 的一切，但是太害怕了问了？](https://segmentfault.com/a/1190000017239545)

