---
title: 使用 GitHub 作为博客之后，可以利用 GitHub Actions 做哪些事情？
number: '#349'
link: 'https://github.com/toFrankie/blog/issues/349'
created_at: '2024-08-12 23:47:51'
updated_at: '2024-08-17 00:28:35'
labels:
  - '2024'
  - 生活随笔
---
## 前言

去年二月，我将简书所有文章搬到 GitHub 上，终于不用被审核了，爽！

现在，issues 页就是文章列表，README 就是主页。

> 📢 你也可以使用 [Github Blogger](https://github.com/toFrankie/github-blogger) 构建你的博客，只需一个仓库就可以开始了。

接下来，我会介绍一些利用自动化流程来更新 README 等操作。

- [GitHub Actions](https://docs.github.com/zh/actions)：用于设置定时任务、按条件触发以执行某些脚本。
- [Octokit](https://github.com/octokit)：GitHub API 的官方工具包，支持多种语言。本文以 Node.js 为例。

如果第一次写的，简单了解：

- [Workflow 快速入门](https://docs.github.com/zh/actions/writing-workflows/quickstart)
- [使用 REST API 和 JavaScript 编写脚本](https://docs.github.com/zh/rest/guides/scripting-with-the-rest-api-and-javascript?apiVersion=2022-11-28)

> 不懂也问题不大，直接问 ChatGPT 就好。

> 本文主要提供思路，具体实现可参考我的博客，[戳我](https://github.com/toFrankie/blog)。

## 文章备份

数据在手才最安全的。

- 将 issue 内容存到仓库
    - 使用 [List repository issues](https://docs.github.com/zh/rest/issues/issues?apiVersion=2022-11-28#list-repository-issues) 获取所有 open issue。
- 将 GitHub 仓库备份到 Gitee（如果你实在担心 GitHub 有一天被封的话）
    - 参考《[Gitee 仓库镜像管理](https://gitee.com/help/articles/4336#article-header3)》，只要添加 GitHub → Gitee 方向的镜像就好。
    - 之前想用 [hub-mirror-action](https://github.com/Yikun/hub-mirror-action) 来同步，但遇到些[问题](https://github.com/Yikun/hub-mirror-action/issues/188)没解决。

也可以自定义 GitHub Workflow，在 issue 被创建、被编辑，或定时任务，将 Issue 内容保存到仓库内。

> 如果你用 [Github Blogger](https://github.com/toFrankie/github-blogger) 来管理文章，可以省略第一个，因为每一次内容变更它都会提交到仓库，存放于 archives 目录。

## 仓库访问数据

在仓库 Insights - Traffic 处可以看到近两周的一些数据。

> 具有仓库推送权限的任何人都可以查看其流量，包括完整克隆（不是提取）、过去 14 天的访问者、推荐站点以及流量图中的热门内容。

由于只能看到最近 14 天的数据，如果要统计总访问量，可以创建一个定时任务的 Workflow 将数据保存到仓库内。

如果要将访问量展示在 README 里，可以将上述数据统计的数据，生成一个 SVG 图片，然后 README.md 中引用该图片文件即可。

> 可参考[这里](https://github.com/toFrankie/blog/tree/main/scripts)。

> 我还看到另一个方案 [Hints](https://github.com/88250/hits)，当你在 README.md 引入他的图片之后，每访问 README 一次，也就是 Get 一次图片，那么访问量 +1，原理应该跟埋点差不多。缺点也明显，只有访问 README 才会被统计，访问 issue 等流量无法统计。

## 文章统计



未完待续...
