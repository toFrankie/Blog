# JavaScript 函数其一：函数声明

> [原文](https://web.archive.org/web/20210414201328/http://www.nowamagic.net/librarys/veda/detail/1662)

下面我们介绍的是一个非常常见的 ECMAScript 对象——函数(function),我们将详细讲解一下各种类型的函数是如何影响上下文的变量对象以及每个函数的作用域链都包含什么，以及回答诸如像下面这样的问题：下面声明的函数有什么区别么？（如果有，区别是什么）。

```js
var foo = function () {
  // ...
}
```

平时的惯用方式：

```js
function foo() {
  // ...
}
```

或者，下面的函数为什么要用括号括住？

```js
;(function () {
  // ...
})()
```

但我们依然要一个一个分别看看，首先从函数的类型讲起：

在 ECMAScript 中有三种函数类型：函数声明，函数表达式和函数构造器创建的函数。每一种都有自己的特点。

## 函数声明

函数声明（缩写为 FD）是这样一种函数：

1. 有一个特定的名称
2. 在源码中的位置：要么处于程序级（Program level），要么处于其它函数的主体（FunctionBody）中
3. 在进入上下文阶段创建
4. 影响变量对象
5. 以下面的方式声明

```js
function exampleFunc() {
  // ...
}
```

这种函数类型的主要特点在于它们仅仅影响变量对象（即存储在上下文的 VO 中的变量对象）。该特点也解释了第二个重要点（它是变量对象特性的结果）——在代码执行阶段它们已经可用（因为 FD 在进入上下文阶段已经存在于 VO 中——代码执行之前）。

例如（函数在其声明之前被调用）

```js
foo()

function foo() {
  alert('foo')
}
```

另外一个重点知识点是上述定义中的第二点——函数声明在源码中的位置：

```js
// 函数可以在如下地方声明：
// 1) 直接在全局上下文中
function globalFD() {
  // 2) 或者在一个函数的函数体内
  function innerFD() {}
}
```

只有这 2 个位置可以声明函数，也就是说，不可能在表达式位置或一个代码块中定义它。
